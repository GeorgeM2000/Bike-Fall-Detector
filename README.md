<img src="https://drive.google.com/uc?id=1jrs8-iPYPX0xsiIfCZBo4LFnOjTLmzXp" alt="" width="230" height="230" title="Εφαρμογή ανίχνευσης πτώσης">
<h1>Εφαρμογή ανίχνευσης πτώσης</h1>

Εφαρμογή ανίχνευσης πτώσης/ατυχημάτων για ποδήλατα και μηχανές για τον 4ο Μαθητικό και Φοιτητικό Διαγωνισμό Προγραμματισμού, με θέμα «Κοζάνη 2030: Στον δρόμο για την κλιματική ουδετερότητα». Η εφαρμογή αφορά τον τομέα της ασφάλειας σε μία έξυπνη πόλη εστιάζοντας το ενδιαφέρον της στην ασφάλεια όλων των ηλικιακών ομάδων και ειδικότερα αυτών που βρίσκονται σε υψηλό κίνδυνο.

<h1>Ασφάλεια σε μία Έξυπνη Πόλη</h1>

Οι ασφαλείς πόλεις αποτελούν βασικό πυλώνα που υποστηρίζει την ανάπτυξη έξυπνων πόλεων σε όλο τον κόσμο. Παρέχουν την ασφάλεια που απαιτείται για την προστασία των πολιτών από το έγκλημα, τα ατυχήματα, καθώς και για τον μετριασμό, όσο το δυνατόν περισσότερο, των επιπτώσεων των φυσικών καταστροφών και άλλων απειλών. Μια επιτυχημένη λύση ασφαλούς έξυπνης πόλης θα πρέπει να υποστηρίζει τις υπηρεσίες ασφαλείας μιας πόλης όπως τα τμήματα πυροσβεστικής και διάσωσης, τα τμήματα δημόσιας υγείας και κοινωνικών υπηρεσιών πριν, κατά τη διάρκεια και μετά από μια εκδήλωση ενός συμβάντος, και να ενσωματώνει τις διαφορετικές τεχνολογίες και τα κυβερνητικά τμήματα που είναι υπεύθυνα για την ασφάλεια των πολιτών.<br>
Τέσσερα βασικά προαπαιτούμενα είναι τα εξής:

1. <b>Πρόληψη</b>: Παρέχει αξιόπιστα και ολοκληρωμένα μέτρα ασφαλείας για την πρόβλεψη απειλών και επικίνδυνων καταστάσεων. Οι αρχές της πόλης πρέπει να είναι σε θέση να λάβουν μέτρα για να αποτρέψουν εξαρχής την εμφάνιση απειλών
2. <b>Ανίχνευση</b>: Βοηθά τους οργανισμούς δημόσιας ασφάλειας να συλλέγουν, να μοιράζονται και να αναλύουν δεδομένα πιο αποτελεσματικά για την παροχή έγκαιρων προειδοποιήσεων και την ευαισθητοποίηση της κατάστασης. Τα συστήματα αισθητήρων στην πόλη θα συλλέγουν προληπτικά πληροφορίες. Ο τύπος του αισθητήρα που χρησιμοποιείται καθορίζεται από το εύρος του έργου ασφαλούς πόλης και από το πόση διαλειτουργικότητα απαιτείται. Οι πληροφορίες μπορούν να χρησιμοποιηθούν για την παροχή έγκαιρης ανίχνευσης και ειδοποιήσεων όταν συμβαίνουν γεγονότα.
3. <b>Απάντηση</b>: Δίνει τη δυνατότητα στους βασικούς οργανισμούς της πόλης να αντιδρούν σε απειλές για την ασφάλεια σε πραγματικό χρόνο. Οι αρχές της πόλης πρέπει να είναι σε θέση να αποτρέψουν την κλιμάκωση ενός ανεπιθύμητου συμβάντος.
4. <b>Ανάκτηση</b>: Παρέχει εξέταση και ανάλυση μετά το συμβάν, ταυτοποιεί τα θύματα και παρέχει βοήθεια σε ενέργειες διάσωσης. Μετά από ένα συμβάν, οι αρχές της πόλης πρέπει να είναι σε θέση να εξετάζουν και να αναλύουν γρήγορα όλα τα δεδομένα που λαμβάνονται από τα σχετικά συστήματα αισθητήρων. Οι πληροφορίες μπορούν να χρησιμοποιηθούν για τη διευκόλυνση των ενεργειών διάσωσης και των διαδικασιών αναγνώρισης και βοήθειας των θύματων.


<h1>Περιγραφή</h1>

Ο στόχος της εφαρμογής είναι να ανιχνεύει ατυχήματα και πτώσεις μηχανής η ποδηλάτου και να ειδοποιήσει επιλεγμένες απο τον χρήστη επαφές μέσω μηνυμάτων SMS στα οπία θα περιλαμβάνονται πληροφορίες τοποθεσίας. Όλα αυτά θα γίνονται σε ζωντανό χρόνο κρατώντας την κατανάλωση ενέργειας σε πολύ χαμηλά επίπεδα.<br>

Η εφαρμογή έχει υλοποιηθεί για την πλατφόρμα Android χρησιμοποιώντας τη γλώσσα προγραμματισμού Java. Επίσης, χρησιμοποιείται σαν βάση δεδομένων η Firebase της Google, η οποία είναι εύχρηστη και συνδέεται πολύ εύκολα με οποιαδήποτε Android εφαρμογή. Στην βάση δεδομένων αποθηκεύονται πληροφορίες χρηστών, όπως οι επαφές στις οποίες θα σταλθούν οι ειδοποιήσεις(SMS) εάν συμβεί ένα ατύχημα και τα στοιχεία λογαριασμού.<br>

Ένα ατύχημα ανιχνεύεται χρησιμοποιώντας την πλακέτα Arduino Nano 33 BLE(Bluetooth Low Energy) Sense τοποθετημένη επάνω σε ένα shield συνδεόμενη με μία μπαταρία 9V. 

<img src="https://drive.google.com/uc?id=1Ci5SUzHxW-uHdfvAojjIX6mlpYSU8qWH" alt="" width="543" height="250" title="Arduino Nano 33 ble Sense">                                                                                         
<img src="https://drive.google.com/uc?id=10O5-KpwNs_aifo53T_lEOUztyEHoAKPx" alt="" width="543" height="543" title="Arduino Nano 33 ble Sense Shield">


Το Arduino Nano 33 BLE είναι μια εξέλιξη του παραδοσιακού Arduino Nano, αλλά διαθέτει πολύ πιο ισχυρό επεξεργαστή. Αυτό μας δίνει την δυνατότητα να δημιουργήσουμε μεγαλύτερα προγράμματα από ό,τι με το Arduino Uno και με πολύ περισσότερες μεταβλητές. Ο κύριος επεξεργαστής περιλαμβάνει άλλες εκπληκτικές δυνατότητες όπως Bluetooth ζευγαρώνοντας μέσω NFC και εξαιρετικά χαμηλής κατανάλωσης. Το Nano 33 BLE διαθέτει μονάδα αδρανειακής (inertial) μέτρησης 9 αξόνων (IMU) που σημαίνει ότι περιλαμβάνει επιταχυνσιόμετρο, γυροσκόπιο και μαγνητόμετρο με ανάλυση 3 αξόνων το καθένα.<br>
Η συσκευή τοποθετείται με κατάλληλο τρόπο στην μηχανή η στο ποδήλατο έτσι ώστε αν γέρνει αρκετά προς τα αριστερά η δεξία να στέλνει ένα BLE σήμα στην εφαρμογή. Υποθέτουμε πως όταν η μηχανή η το ποδήλατο γέρνουν αρκετά στα δεξιά η αριστερά, σημαίνει πως δεν βρίσκονται στην συνηθισμένη θέση λειτουργίας και έτσι χαρακτηρίζουμε την κατάσταη ως πτώση/ατύχημα. Το σήμα θα στέλνεται μέτα το πέρας 30 δευτερολέπτων οπότε ξεκινάει μια χρονομέτρηση. Πρίν σταλεί το σήμα, ανάβει ένα LED για να ειδοποιήσει τον χρήστη ότι έχει ανιχνευθεί μία πτώση/ατύχημα. Ο χρήστης θα έχει την δυνατότητα να ακυρώσει την χρονομέτρηση κουνώντας το χέρι του/της κοντά στον αισθητήρα χειρονομιών που παρέχει η πλακέτα η τοποθετώντας την μηχανή η το ποδήλατο σε μία κατάσταση ισσοροποίας. Με αυτό τον τρόπο εξασφαλίζουμε ότι εάν υπάρχουν λαθασμένες ειδοποιήσεις θα ειδοποιηθεί ο χρήστης και θα μπορεί να της ακυρώσει.<br> 
Για να είναι η εφαρμογή ανθεκτική σε σφάλματα και για να εξαλήψουμε τα μοναδικά σημεία αστοχίας, η εφαρμογή χρησιμοποιεί το επιταχυνσιόμετρο της κινητής συσκευής για να υπολογίζει την θέση του χρήστη και να ανιχνεύει ξαφνικές, έντονες και γρήγορες κινήσεις. Με αύτο τον τρόπο, αν το επιταχυνσιόμετρο της πλακέτας αποτύχει να ανιχνεύσει μια πτώση/ατύχημα, η ο χρήστης βρίσκεται σε μακρινή απόσταση έτσι ώστε να είναι εκτός της εμβέλειας σήματος BLE, να καταφέρει παρ' όλα αυτά να ειδοποιήσει τις επαφές του/της.
